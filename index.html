<html>
  <head>
     <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Startups Nepal - A Directory of Nepalese Tech Startups</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/css/style.css" />
    <script src="js/handlebars/handlebars.js"></script>
    <script src="js/tabletop/src/tabletop.js"></script>
    <script src="js/jquery/jquery.js"></script>
      <script>

          var spreadsheet_key = "1Ec9Q9CD6MvRSRDtXcg7oIy9F955Llkm2_qcTmfI99Ew";

          function init() {
              Tabletop.init({
                  key: spreadsheet_key,
                  callback: showInfo,
                  simpleSheet: true
              });

              
          }

         // http://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array
          function shuffle(array) {
              var currentIndex = array.length, temporaryValue, randomIndex;

              // While there remain elements to shuffle...
              while (0 !== currentIndex) {

                  // Pick a remaining element...
                  randomIndex = Math.floor(Math.random() * currentIndex);
                  currentIndex -= 1;

                  // And swap it with the current element.
                  temporaryValue = array[currentIndex];
                  array[currentIndex] = array[randomIndex];
                  array[randomIndex] = temporaryValue;
              }
              return array;
          }

          function showInfo(data) {
              shuffle(data);
              var source = $("#startup-template").html();
              var template = Handlebars.compile(source);
              $.each(data, function (i, startup) {
                  var html = template(startup);
                  $(".container").append(html);
              });
          }

          init();

      </script>
      </head>
  <body>

      <script id="startup-template" type="text/x-handlebars-template">
          <div class="box">
              <div class="flip-container" ontouchstart="this.classList.toggle('hover');">
                  <div class="flipper">
                      <div class="front center-align">
                          <img src="{{[Logo URL]}}" height="{{#if Height}}{{Height}}{{else}}75{{/if}}" />
                      </div>
                      <a href="{{[Website URL]}}">
                          <div class="back center-align column-wrap">
                              <h2>{{[Product Name]}}</h2>
                              <h5>{{[Product Tagline]}}</h5>
                              <h6>
                                  VISIT WEBSITE
                              </h6>
                          </div>
                      </a>
                  </div>
              </div>
          </div>
      </script>
    
      <div class="hero column-wrap center-align">
          <img src="images/startupsnepal_logo.png" height="200" />
          <h3>Nepali Startups Directory</h3>
          <a href="http://goo.gl/forms/5D1Ib9GtX2">Add Your Startup Here</a>
      </div>

      <div class="container">
      </div>      


  </body>
</html>
